<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
                       http://www.springframework.org/schema/beans/spring-beans-3.2.xsd   
                       http://www.springframework.org/schema/tx
                       http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
                       http://www.springframework.org/schema/context
                      http://www.springframework.org/schema/context/spring-context-3.2.xsd
                       ">
     
       <tx:annotation-driven /> 

    

 		<bean id="entityManagerFactory"
		     class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
		       <property name="dataSource" ref="dataSource" />
		       <property name="packagesToScan" value="de.jgsoftware.webshop.model.demodb" />
		       <property name="persistenceUnitName" value="derbydemodb"></property>
		       <property name="jpaVendorAdapter">
		           <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />
		       </property>
		       <!--
		       <property name="jpaProperties">
		          <props>
		              <prop key="hibernate.hbm2ddl.auto">create-drop</prop>
		             <prop key="hibernate.dialect">org.hibernate.dialect.DerbyDialekt</prop>
		          </props>
		       </property>
		       -->
  		 </bean>

   <bean id="dataSource"
     class="org.springframework.jdbc.datasource.DriverManagerDataSource">
          <property name="driverClassName" value="org.apache.derby.jdbc.ClientDriver" />
          <property name="url" value="jdbc:derby://172.17.0.2:1527/root/derbydemodb" />      
          <property name="username" value="root" />
          <property name="password" value="jj78mvpr52k1" />

   </bean>

   <bean id="transactionManager"
     class="org.springframework.orm.jpa.JpaTransactionManager">
       <property name="entityManagerFactory" ref="entityManagerFactory" />
   </bean>


   <bean id="persistenceExceptionTranslationPostProcessor" class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor" />
		
		 <bean  id="useragent"  class="de.jgsoftware.webshop.model.demodb.Useragent" />
		
		 <bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor" />
</beans>